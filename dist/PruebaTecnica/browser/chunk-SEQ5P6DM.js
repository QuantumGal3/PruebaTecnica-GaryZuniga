import{a as r,b as n,w as s}from"./chunk-K7WYNZWF.js";var a=class m{rooms=[{id:1,name:"Sala 1",capacity:100,movies:[1,2]},{id:2,name:"Sala 2",capacity:80,movies:[3,4,5]},{id:3,name:"Sala 3",capacity:120,movies:[]}];constructor(){}getAllRooms(){return this.rooms}getRoomById(t){return this.rooms.find(e=>e.id===t)}addRoom(t){let e=Math.max(...this.rooms.map(i=>i.id))+1,o=n(r({},t),{id:e});return this.rooms.push(o),o}updateRoom(t,e){let o=this.rooms.findIndex(i=>i.id===t);if(o!==-1)return this.rooms[o]=r(r({},this.rooms[o]),e),this.rooms[o]}deleteRoom(t){let e=this.rooms.length;return this.rooms=this.rooms.filter(o=>o.id!==t),this.rooms.length!==e}getRoomAvailability(t){let e=this.getRoomById(t);if(!e)throw new Error("Sala no encontrada");let o=e.movies.length,i;return o<3?i="available":o>=3&&o<=5?i="almost-full":i="full",{roomId:t,roomName:e.name,status:i,assignedMovies:o}}assignMovieToRoom(t,e){let o=this.getRoomById(t);return o&&!o.movies.includes(e)?(o.movies.push(e),!0):!1}removeMovieFromRoom(t,e){let o=this.getRoomById(t);if(o){let i=o.movies.length;return o.movies=o.movies.filter(l=>l!==e),o.movies.length!==i}return!1}static \u0275fac=function(e){return new(e||m)};static \u0275prov=s({token:m,factory:m.\u0275fac,providedIn:"root"})};export{a};
