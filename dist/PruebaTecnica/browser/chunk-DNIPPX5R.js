import{a as E}from"./chunk-GSOMRDBQ.js";import{a as C}from"./chunk-SEQ5P6DM.js";import{$ as u,M as s,Na as x,P as b,Q as h,Ta as g,Va as D,_ as f,da as o,ea as e,fa as r,h as v,ka as S,sa as a,ta as d,w as p,z as c}from"./chunk-K7WYNZWF.js";var m=class n{constructor(i,t){this.moviesService=i;this.roomsService=t}getDashboardStats(){return this.moviesService.getPopularMovies().pipe(v(i=>{let t=this.roomsService.getAllRooms();return{totalMovies:i.total_results,totalRooms:t.length,availableRooms:t.filter(l=>l.movies.length<3).length}}))}static \u0275fac=function(t){return new(t||n)(c(E),c(C))};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};function M(n,i){n&1&&(o(0,"div",2)(1,"div",3)(2,"span",4),a(3,"Cargando..."),e()()())}function w(n,i){if(n&1&&(o(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h5",9),a(5,"Total de Pel\xEDculas"),e(),o(6,"div",10)(7,"h2",11),a(8),e(),r(9,"i",12),e()()()(),o(10,"div",6)(11,"div",13)(12,"div",8)(13,"h5",9),a(14,"Total de Salas"),e(),o(15,"div",10)(16,"h2",11),a(17),e(),r(18,"i",14),e()()()(),o(19,"div",6)(20,"div",15)(21,"div",8)(22,"h5",9),a(23,"Salas Disponibles"),e(),o(24,"div",10)(25,"h2",11),a(26),e(),r(27,"i",16),e()()()()(),o(28,"div",17)(29,"div",18)(30,"h5",11),a(31,"Acciones R\xE1pidas"),e()(),o(32,"div",8)(33,"div",19)(34,"a",20),r(35,"i",21),a(36," Gestionar Pel\xEDculas "),e(),o(37,"a",22),r(38,"i",23),a(39," Gestionar Salas "),e()()()()),n&2){let t=S();s(8),d(t.stats.totalMovies),s(9),d(t.stats.totalRooms),s(9),d(t.stats.availableRooms)}}var R=class n{constructor(i){this.dashboardService=i}loading=!0;stats={totalMovies:0,totalRooms:0,availableRooms:0};ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.dashboardService.getDashboardStats().subscribe({next:i=>{this.stats=i,this.loading=!1},error:i=>{console.error("Error loading dashboard data",i),this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(b(m))};static \u0275cmp=h({type:n,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-md-4","mb-4"],[1,"card","text-white","bg-primary","h-100"],[1,"card-body"],[1,"card-title"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-film","fs-1"],[1,"card","text-white","bg-success","h-100"],[1,"bi","bi-building","fs-1"],[1,"card","text-white","bg-info","h-100"],[1,"bi","bi-check-circle","fs-1"],[1,"card","mt-4"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex"],["routerLink","/movies",1,"btn","btn-primary","me-md-2"],[1,"bi","bi-film","me-1"],["routerLink","/rooms",1,"btn","btn-success","me-md-2"],[1,"bi","bi-building","me-1"]],template:function(t,l){t&1&&(o(0,"div",0)(1,"h2",1),a(2,"Dashboard de Cine"),e(),f(3,M,4,0,"div",2)(4,w,40,3),e()),t&2&&(s(3),u(l.loading?3:4))},dependencies:[x,D,g],encapsulation:2})};export{R as DashboardComponent};
